{
  "rvm": {
    "rubies": ["jruby-1.6.2", "ruby-1.9.2"],
    "default_ruby": "system",  // system will be from apt-get
    "gem_package": {"rvm_string": "jruby-1.6.2"} // to use now
  },
  
  "run_list": [ 
    "recipe[java::default]",
    "recipe[rvm::gem_package]",  // patches gem_package to use Chef::Provider::Package::RVMRubygems
                                 // set rvm/gem_package/rvm_string to required ruby
    "recipe[rvm::default]",
    
    "recipe[redis::default]",
    
    "recipe[trinidad::default]", // Tour reporter server
    "recipe[unicorn::default]",  // Install unicorn
    "recipe[unicorn::apps]",     // RT server
    "recipe[resque_worker::default]",
    "recipe[elasticsearch::default]",
    "recipe[nginx::source]" // NginX web server
  ],

  "active_applications": {
   "ResTracker": {"enable": true, "resque_workers": true},
   "tour_reporter": {"enable": true}
  },

  "unicorn": {
    "worker_count":6, 
    "timeout": 120,
    "ruby_string": "ruby-1.9.2"
  },
  
  "trinidad": {
    "ruby_string": "jruby-1.6.2"
  },

  "elasticsearch": {
    "cluster_name": "RT_production",
    "heap_size": 512
  },

  "nginx": {
    "root": "/var/www/ResTracker/current/public",
    "upstream": {
      "name": "unicorn_server",
      "socket": "unix:/tmp/ResTracker.sock"
    }
  }
}

